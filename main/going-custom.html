<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Going Custom  Reference</title>
    <link rel='stylesheet' type='text/css' href='css/jazzy.css' />
    <link rel='stylesheet' type='text/css' href='css/highlight.css' />
    <meta charset='utf-8'>
    <script src='js/jquery.min.js' defer></script>
    <script src='js/jazzy.js' defer></script>
  </head>
  <body>


    <a title='Going Custom  Reference'></a>

    <header class='header'>
      <p class='header-col header-col--primary'>
        <a class='header-link' href='index.html'>
          Tabman Docs
        </a>
         (69% documented)
      </p>
    
        <p class='header-col header-col--secondary'>
          <a class='header-link' href='https://github.com/uias/Tabman'>
            <img class='header-icon' src='img/gh.png'/>
            View on GitHub
          </a>
        </p>
    
        <p class='header-col header-col--secondary'>
          <a class='header-link' href='dash-feed://http%3A%2F%2Fuias.github.io%2FTabman%2Fmain%2Fdocsets%2FTabman.xml'>
            <img class='header-icon' src='img/dash.png'/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class='breadcrumbs'>
      <a class='breadcrumb' href='index.html'>Tabman Reference</a>
      <img class='carat' src='img/carat.png' />
      Going Custom  Reference
    </p>

    <div class='content-wrapper'>
      <nav class='navigation'>
        <ul class='nav-groups'>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Documentation.html'>Documentation</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='adding-a-bar.html'>Adding a Bar</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='going-custom.html'>Going Custom</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='example-projects.html'>Example Projects</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='contributing.html'>Contributing</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='changelog.html'>Changelog</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='troubleshooting.html'>Troubleshooting</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='tabman-2-migration-guide.html'>Tabman 2 Migration Guide</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='View Controller.html'>View Controller</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TabmanViewController.html'>TabmanViewController</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TabmanViewController.html#/s:6Tabman0A14ViewControllerC11BarLocationO'>– BarLocation</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TabmanViewController/Insets.html'>– Insets</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Bar.html'>Bar</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TMBar.html'>TMBar</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarView.html'>TMBarView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TMBarItemable.html'>TMBarItemable</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarItem.html'>TMBarItem</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TMBarDataSource.html'>TMBarDataSource</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TMBarDelegate.html'>TMBarDelegate</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMSystemBar.html'>TMSystemBar</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMHidingBar.html'>TMHidingBar</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMHidingBar.html#/s:6Tabman11TMHidingBarC7TriggerO'>– Trigger</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMHidingBar.html#/s:6Tabman11TMHidingBarC10TransitionO'>– Transition</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Layout.html'>Layout</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarLayout.html'>TMBarLayout</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarLayout.html#/s:6Tabman11TMBarLayoutC11ContentModeO'>– ContentMode</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarLayout.html#/s:6Tabman11TMBarLayoutC9AlignmentO'>– Alignment</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarLayout/None.html'>– None</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMHorizontalBarLayout.html'>TMHorizontalBarLayout</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMConstrainedHorizontalBarLayout.html'>TMConstrainedHorizontalBarLayout</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Buttons.html'>Buttons</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarButton.html'>TMBarButton</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarButton/None.html'>– None</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarButtonCollection.html'>TMBarButtonCollection</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMLabelBarButton.html'>TMLabelBarButton</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMLabelBarButton.html#/s:6Tabman16TMLabelBarButtonC17VerticalAlignmentO'>– VerticalAlignment</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMTabItemBarButton.html'>TMTabItemBarButton</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBadgeView.html'>TMBadgeView</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Indicator.html'>Indicator</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarIndicator.html'>TMBarIndicator</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarIndicator.html#/s:6Tabman14TMBarIndicatorC11DisplayModeO'>– DisplayMode</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarIndicator/None.html'>– None</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMLineBarIndicator.html'>TMLineBarIndicator</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBlockBarIndicator.html'>TMBlockBarIndicator</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMChevronBarIndicator.html'>TMChevronBarIndicator</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMDotBarIndicator.html'>TMDotBarIndicator</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Animation.html'>Animation</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/TMAnimation.html'>TMAnimation</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Animation.html#/s:6Tabman17TMTransitionStyleO'>TMTransitionStyle</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Other Guides.html'>Other Guides</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='tabman-3-migration-guide.html'>Tabman 3 Migration Guide</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Other Classes.html'>Other Classes</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarBackgroundView.html'>TMBarBackgroundView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TMBarBackgroundView.html#/s:6Tabman19TMBarBackgroundViewC5StyleO'>– Style</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Other Enumerations.html'>Other Enumerations</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Other%20Enums.html#/s:6Tabman18TMBarReloadContextO'>TMBarReloadContext</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Other%20Enums.html#/s:6Tabman20TMBarUpdateDirectionO'>TMBarUpdateDirection</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Other Extensions.html'>Other Extensions</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/UIViewController.html'>UIViewController</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Other Protocols.html'>Other Protocols</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TMBarViewFocusProvider.html'>TMBarViewFocusProvider</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class='main-content'>

        <section class='section'>
          <div class='section-content'>
            
            <h1 id='going-custom' class='heading'>Going Custom</h1>

<p>Tabman provides the facility to create custom components, allowing for you to make any style of bar possible.</p>
<h3 id='contents' class='heading'>Contents</h3>

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#custom-bar-layout">Custom Bar Layout</a></li>
<li><a href="#custom-bar-buttons">Custom Bar Buttons</a></li>
<li><a href="#custom-bar-indicator">Custom Bar Indicator</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
<h2 id='overview' class='heading'>Overview</h2>

<p>There are three key areas of a <code><a href="Classes/TMBarView.html">TMBarView</a></code> which can easily be subclassed, mixed and matched and modified:</p>

<ul>
<li>Layout (<code><a href="Classes/TMBarLayout.html">TMBarLayout</a></code>) - Dictates the layout and display of the bar contents.</li>
<li>Bar Buttons (<code><a href="Classes/TMBarButton.html">TMBarButton</a></code>) - Physical buttons that are displayed in the bar.</li>
<li>Indicator (<code><a href="Classes/TMBarIndicator.html">TMBarIndicator</a></code>) - View that indicates currently displayed position in the bar.</li>
</ul>

<p><code><a href="Classes/TMBarView.html">TMBarView</a></code> is generically constrained to these three areas:</p>
<pre class="highlight swift"><code><span class="kt">TMBarView</span><span class="o">&lt;</span><span class="kt">LayoutType</span><span class="p">:</span> <span class="kt">TMBarLayout</span><span class="p">,</span> <span class="kt">BarButtonType</span><span class="p">:</span> <span class="kt">TMBarButton</span><span class="p">,</span> <span class="kt">IndicatorType</span><span class="p">:</span> <span class="kt">TMBarIndicator</span><span class="o">&gt;</span>
</code></pre>

<p>Meaning interchanging layouts, button styles and indicators is as easy as changing one of these constraints. The preset <code><a href="Protocols/TMBar.html#/s:6Tabman5TMBarPAAE9ButtonBara">TMBar.ButtonBar</a></code> under the hood is:</p>
<pre class="highlight swift"><code><span class="kt">TMBarView</span><span class="o">&lt;</span><span class="kt">TMHorizontalBarLayout</span><span class="p">,</span> <span class="kt">TMLabelBarButton</span><span class="p">,</span> <span class="kt">TMLineBarIndicator</span><span class="o">&gt;</span>
</code></pre>
<h2 id='custom-bar-layout' class='heading'>Custom Bar Layout</h2>

<p>If you want to change the way that bar buttons are displayed, where they appear or in general just do something a bit different - creating a custom layout is probably the way to go.</p>
<h3 id='basics' class='heading'>Basics</h3>

<p>Create a subclass of <code><a href="Classes/TMBarLayout.html">TMBarLayout</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Tabman</span>

<span class="kd">class</span> <span class="kt">CustomBarLayout</span><span class="p">:</span> <span class="kt">TMBarLayout</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre>

<p><code><a href="Classes/TMBarLayout.html">TMBarLayout</a></code> provides the following properties that are there to make your life easier when creating your layout:</p>

<ul>
<li><code>.view: UIView</code> - View in which the layout should be constructed. All subviews should be added here.</li>
<li><code>.layoutGuide: UILayoutGuide</code> - Layout guide which provides anchors for the layout in the context of the bar view. As the layouts are inserted within a scroll view, these guides provide access to the visible width of the layout in the bar. Useful if you want to constrain the width to prevent scrollable content.</li>
<li><code>.contentMode: TMBarLayout.ContentMode</code> - How the buttons are expected to be constrained in the layout (i.e. whether they can intrinsically size or should fit the available width etc.). This is configurable by the user and the layout should react to this appropriately if needed, however the actual AutoLayout logic is handled by the parent.</li>
</ul>
<h3 id='lifecycle' class='heading'>Lifecycle</h3>

<p>The following lifecycle events occur in a <code><a href="Classes/TMBarLayout.html">TMBarLayout</a></code>, and a custom implementation is required to implement <strong>all</strong> of them.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">CustomBarLayout</span><span class="p">:</span> <span class="kt">TMBarLayout</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">layout</span><span class="p">(</span><span class="k">in</span> <span class="nv">view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Point at which to construct your custom layout.</span>
        <span class="c1">//</span>
        <span class="c1">// Adding all views to the `view` parameter.</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">insert</span><span class="p">(</span><span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span><span class="kt">TMBarButton</span><span class="p">],</span> <span class="n">at</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Insert new buttons into the layout.</span>
        <span class="c1">//</span>
        <span class="c1">// The `index` refers to the lower insertion index (where to start inserting).</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">remove</span><span class="p">(</span><span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span><span class="kt">TMBarButton</span><span class="p">])</span> <span class="p">{</span>
        <span class="c1">// Remove existing buttons from the layout.</span>
        <span class="c1">//</span>
        <span class="c1">// Remove any buttons in the `buttons` array from the layout views.</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">focusArea</span><span class="p">(</span><span class="k">for</span> <span class="nv">position</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">,</span> <span class="nv">capacity</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CGRect</span> <span class="p">{</span>
        <span class="c1">// Focus area refers to where the bar should be providing 'focus' for a given position.</span>
        <span class="c1">//</span>
        <span class="c1">// This will be used directly for positioning the indicator.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Implementing the above functions should provide the flexibility to create any type of layout, and handle all the required <code><a href="Classes/TMBarView.html">TMBarView</a></code> lifecycle events with ease.</p>
<h3 id='examples' class='heading'>Examples</h3>

<ul>
<li><a href="https://github.com/uias/Tinderbar/blob/main/Sources/Tinderbar/Bars/TinderBar/TinderBarLayout.swift"><strong>TinderBarLayout</strong></a> - Layout for the main navigation bar in the Tinder iOS app, emulated in <a href="https://github.com/uias/Tinderbar">Tinderbar</a>.</li>
</ul>
<h2 id='custom-bar-buttons' class='heading'>Custom Bar Buttons</h2>

<p>Bar buttons are the indiviual interactable buttons that appear in the bar, and allow the user to directly manipulate the indicated position.</p>
<h3 id='basics' class='heading'>Basics</h3>

<p>Create a subclass of <code><a href="Classes/TMBarButton.html">TMBarButton</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Tabman</span>

<span class="kd">class</span> <span class="kt">CustomBarButton</span><span class="p">:</span> <span class="kt">TMBarButton</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre>

<p><code><a href="Classes/TMBarButton.html">TMBarButton</a></code> inherits from <code>UIControl</code>, so all the usual responder events are available. A default <code>.touchUpInside</code> handler is added to all bar buttons in a bar view, to allow for them to be selected by the user.</p>
<h3 id='lifecycle' class='heading'>Lifecycle</h3>

<p>The following mandatory lifecycle events occur in a <code><a href="Classes/TMBarButton.html">TMBarButton</a></code>, a custom implementation is required to implement <strong>all</strong> of them.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">CustomBarButton</span><span class="p">:</span> <span class="kt">TMBarButton</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">layout</span><span class="p">(</span><span class="k">in</span> <span class="nv">view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">layout</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">view</span><span class="p">)</span>
        <span class="c1">// Point at which to construct your custom bar button.</span>
        <span class="c1">//</span>
        <span class="c1">// Adding all views to the `view` parameter.</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">populate</span><span class="p">(</span><span class="k">for</span> <span class="nv">item</span><span class="p">:</span> <span class="kt">TMBarItemable</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">populate</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">item</span><span class="p">)</span>
        <span class="c1">// Populate your bar button with the data from a bar item.</span>
        <span class="c1">//</span>
        <span class="c1">// For example, if you only had an image view in your bar button,</span>
        <span class="c1">// set the image views image to `item.image`.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='badges-amp-other-extras' class='heading'>Badges &amp; Other Extras</h4>

<p><code><a href="Classes/TMBarButton.html">TMBarButton</a></code> has a <code><a href="Classes/TMBadgeView.html">TMBadgeView</a></code> property (<code>.badge</code>) which can be used to display badge values on an individual button. Due to the nature of how custom a button is, Tabman does not attempt to layout this view automatically. To add support (or not) for badge views to your button, simply override the following:</p>
<pre class="highlight swift"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">layoutBadge</span><span class="p">(</span><span class="n">_</span> <span class="nv">badge</span><span class="p">:</span> <span class="kt">TMBadgeView</span><span class="p">,</span> <span class="k">in</span> <span class="nv">view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">badge</span><span class="p">)</span>
    <span class="n">badge</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="c1">// Constrain to top right corner of button.</span>
    <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
        <span class="n">badge</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">),</span>
        <span class="n">badge</span><span class="o">.</span><span class="n">topAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">topAnchor</span><span class="p">)</span>
    <span class="p">])</span>
<span class="p">}</span>
</code></pre>

<p><em>The badge value is automatically applied in <code>populate(for item:)</code> in <code><a href="Classes/TMBarButton.html">TMBarButton</a></code>.</em></p>
<h3 id='state' class='heading'>State</h3>

<p>One of the key responsibilities of a bar button is to display state, whether it is currently selected or unselected; and also to be able to smoothly interpolate between these two states. <code>TMBarButton.SelectionState</code> is used to handle this.</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">SelectionState</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">unselected</span>
    <span class="k">case</span> <span class="nf">partial</span><span class="p">(</span><span class="nv">delta</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">selected</span>
<span class="p">}</span>
</code></pre>

<p><em>A <code>rawValue</code> property is also available which provides a <code>CGFloat</code> from 0.0 to 1.0 reflecting the state.</em></p>

<p>Another lifecycle event is available to handle updating the state:</p>
<pre class="highlight swift"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="k">for</span> <span class="nv">selectionState</span><span class="p">:</span> <span class="kt">TMBarButton</span><span class="o">.</span><span class="kt">SelectionState</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Update your colors, transforms etc. to reflect being selected / unselected.</span>
    <span class="c1">//</span>
    <span class="c1">// This is wrapped in a `UIView` animation closure when animated transitions occur,</span>
    <span class="c1">// so all properties should be animateable.</span>
<span class="p">}</span>
</code></pre>

<p><em>If you call <code>super.update(for: selectionState)</code> a default state is provided - the bar buttons will transition between alpha of 0.5 and 1.0 depending on the state.</em></p>
<h3 id='examples' class='heading'>Examples</h3>

<ul>
<li><a href="https://github.com/uias/Tinderbar/blob/main/Sources/Tinderbar/Bars/TinderBar/TinderBarButton.swift"><strong>TinderBarButton</strong></a> - Buttons for the main navigation bar in the Tinder iOS app, emulated in <a href="https://github.com/uias/Tinderbar">Tinderbar</a>.</li>
</ul>
<h2 id='custom-bar-indicator' class='heading'>Custom Bar Indicator</h2>

<p>The bar indicator is a view that simply displays the current position in the bar, and is not expected to provide any interaction.</p>
<h3 id='basics' class='heading'>Basics</h3>

<p>Create a subclass of <code><a href="Classes/TMBarIndicator.html">TMBarIndicator</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Tabman</span>

<span class="kd">class</span> <span class="kt">CustomBarIndicator</span><span class="p">:</span> <span class="kt">TMBarIndicator</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre>

<p>An additional extra that is required for an indicator, is to inform the bar view how it needs to be displayed. For this there is the <code>DisplayMode</code> enum.</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">DisplayMode</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">top</span>
    <span class="k">case</span> <span class="n">bottom</span>
    <span class="k">case</span> <span class="n">fill</span>
<span class="p">}</span>
</code></pre>

<p>The cases in <code>DisplayMode</code> result in the following:</p>

<ul>
<li><code>top</code>: Indicator goes above the bar contents.</li>
<li><code>bottom</code>: Indicator goes below the bar contents.</li>
<li><code>fill</code>: Indicator fills the height of the bar, behind the bar contents.</li>
</ul>

<p>You <strong>must</strong> return the desired <code>DisplayMode</code> for the indicator in the <code>displayMode</code> property.</p>
<pre class="highlight swift"><code><span class="kd">open</span> <span class="k">override</span> <span class="k">var</span> <span class="nv">displayMode</span><span class="p">:</span> <span class="kt">TMBarIndicator</span><span class="o">.</span><span class="kt">DisplayMode</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">.</span><span class="n">bottom</span>
<span class="p">}</span>
</code></pre>
<h3 id='lifecycle' class='heading'>Lifecycle</h3>

<p>The lifecycle for <code><a href="Classes/TMBarIndicator.html">TMBarIndicator</a></code> is really simple, requiring only layout.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">CustomBarIndicator</span><span class="p">:</span> <span class="kt">TMBarIndicator</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">layout</span><span class="p">(</span><span class="k">in</span> <span class="nv">view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">layout</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">view</span><span class="p">)</span>

        <span class="c1">// Create your indicator in `view`.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='next-steps' class='heading'>Next Steps</h2>

<p>So now you&rsquo;ve created your custom layouts / buttons / indicators - how do you use them? Well as mentioned previously, you can really easily mix and match all of them in <code><a href="Classes/TMBarView.html">TMBarView</a></code>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">customLayoutBar</span> <span class="o">=</span> <span class="kt">TMBarView</span><span class="o">&lt;</span><span class="kt">CustomBarLayout</span><span class="p">,</span> <span class="kt">TMLabelBarButton</span><span class="p">,</span> <span class="kt">TMBarIndicator</span><span class="o">.</span><span class="kt">None</span><span class="o">&gt;</span>
<span class="k">let</span> <span class="nv">customButtonBar</span> <span class="o">=</span> <span class="kt">TMBarView</span><span class="o">&lt;</span><span class="kt">TMHorizontalBarLayout</span><span class="p">,</span> <span class="kt">CustomBarButton</span><span class="p">,</span> <span class="kt">TMLineBarIndicator</span><span class="o">&gt;</span>
<span class="k">let</span> <span class="nv">allCustomBar</span> <span class="o">=</span> <span class="kt">TMBarView</span><span class="o">&lt;</span><span class="kt">CustomBarLayout</span><span class="p">,</span> <span class="kt">CustomBarButton</span><span class="p">,</span> <span class="kt">CustomBarIndicator</span><span class="o">&gt;</span>
</code></pre>

          </div>
        </section>


      </article>
    </div>
    <section class='footer'>
      <p>© 2018 <a class="link" href="https://github.com/uias" target="_blank" rel="external">UI At Six</a>. All rights reserved.</p>
      <p>Generated by <a class='link' href='https://github.com/realm/jazzy' target='_blank' rel='external'>jazzy ♪♫ v0.14.3</a>, a <a class='link' href='http://realm.io' target='_blank' rel='external'>Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
